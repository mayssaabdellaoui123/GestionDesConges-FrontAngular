
<div class="container espace">
    <div class="row">
        <div class="col-lg-4" *ngFor="let conge of Conge;  index as i">
            <div class="card card-margin" >
                <div class="card-header no-border">
                    <h5 class="card-title"><strong>{{conge.type}}</strong></h5>
                </div>
                <div class="card-body pt-0">
                    <div class="widget-49 ">
                        <div class="widget-49-title-wrapper ">
                            <div *ngIf="conge.attente && conge.validationPrimaire" class="widget-49-date-primary VP">
                                <span class="widget-49-date-day ">{{conge.idConge}}</span>
                                <!--span class="widget-49-date-month">apr</span-->
                            </div>

                            <div *ngIf="conge.attente && !conge.validationPrimaire" class="widget-49-date-primary RP">
                              <span class="widget-49-date-day ">{{conge.idConge}}</span>
                              <!--span class="widget-49-date-month">apr</span-->
                          </div>

                          <div *ngIf="!conge.attente" class="widget-49-date-primary Attente">
                            <span class="widget-49-date-day ">{{conge.idConge}}</span>
                            <!--span class="widget-49-date-month">apr</span-->
                          </div>

                            <div class="widget-49-meeting-info">
                                <span class="widget-49-pro-title"><strong>{{conge.dateDebut}}</strong> to <strong>{{conge.dateFin}}</strong></span>
                                <span class="widget-49-meeting-time">Date saisie : {{conge.dateSaisie}}</span>
                            </div>
                        </div>
                        <!--ol class="widget-49-meeting-points">
                            <li class="widget-49-meeting-item"><span>Expand module is removed</span></li>
                            <li class="widget-49-meeting-item"><span>Data migration is in scope</span></li>
                            <li class="widget-49-meeting-item"><span>Session timeout increase to 30 minutes</span></li>
                        </ol-->
                        
                        <div class="widget-49-meeting-action">
                            <a  *ngIf="add1 !== i"  data-target-color="bluegray" data-toggle="modal"  class="btn btn-sm btn-flash-border-primary" (click)="Next(i)"   >more details</a>
                       
                        <div *ngIf="add1 === i">
                             <a   href="#modalColor" data-target-color="bluegray" data-toggle="modal"  class="btn btn-sm btn-flash-border-primary"  (click)="vueDetails()"  >more details</a>
                        </div>

                        
                          
                    </div>
                    </div>
                </div>
            </div>
        </div>
        <!--div class="col-lg-4">
            <div class="card card-margin">
                <div class="card-header no-border">
                    <h5 class="card-title">MOM</h5>
                </div>
                <div class="card-body pt-0">
                    <div class="widget-49">
                        <div class="widget-49-title-wrapper">
                            <div class="widget-49-date-warning">
                                <span class="widget-49-date-day">13</span>
                                <span class="widget-49-date-month">apr</span>
                            </div>
                            <div class="widget-49-meeting-info">
                                <span class="widget-49-pro-title">PRO-08235 Lexa Corp.</span>
                                <span class="widget-49-meeting-time">12:00 to 13.30 Hrs</span>
                            </div>
                        </div>
                        <ol class="widget-49-meeting-points">
                            <li class="widget-49-meeting-item"><span>Scheming module is removed</span></li>
                            <li class="widget-49-meeting-item"><span>App design contract confirmed</span></li>
                            <li class="widget-49-meeting-item"><span>Client request to send invoice</span></li>
                        </ol>
                        <div class="widget-49-meeting-action">
                            <a href="#" class="btn btn-sm btn-flash-border-warning">View All</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card card-margin">
                <div class="card-header no-border">
                    <h5 class="card-title">MOM</h5>
                </div>
                <div class="card-body pt-0">
                    <div class="widget-49">
                        <div class="widget-49-title-wrapper">
                            <div class="widget-49-date-success">
                                <span class="widget-49-date-day">22</span>
                                <span class="widget-49-date-month">apr</span>
                            </div>
                            <div class="widget-49-meeting-info">
                                <span class="widget-49-pro-title">PRO-027865 Opera module</span>
                                <span class="widget-49-meeting-time">12:00 to 13.30 Hrs</span>
                            </div>
                        </div>
                        <ol class="widget-49-meeting-points">
                            <li class="widget-49-meeting-item"><span>Scope is revised and updated</span></li>
                            <li class="widget-49-meeting-item"><span>Time-line has been changed</span></li>
                            <li class="widget-49-meeting-item"><span>Received approval to start wire-frame</span></li>
                        </ol>
                        <div class="widget-49-meeting-action">
                            <a href="#" class="btn btn-sm btn-flash-border-success">View All</a>
                        </div>
                    </div>
                </div>
            </div>
        </div-->
    </div>
</div>



     <!--modaaaaal-->
     <div  class="modal fade" data-modal-color="" id="modalColor" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">demande de conge ( id : {{this.idConge}} ) </h4>
                </div>
                <div class="modal-body" >
                  <!--
                    <p>{{this.firstname}}</p>
                    <p>{{this.lastname}}</p>
                    <p>{{this.matricule}}</p>
                    <p>{{this.tache}}</p>
                    <p>{{this.department}}</p>
                    <p>{{this.phone}}</p>
                    <p>{{this.matriculeBossdep}}</p>
                    <p>{{this.matriculeRemplaceur}}</p>
                    <strong><p>attributs Conge</p></strong>
                    <p>{{this.dateDebut}}</p>
                    <p>{{this.dateFin}}</p>
                    <p>{{this.type}}</p>
                    <p>{{this.dateSaisie}}</p>
                    <p>{{this.avisPrimaire}}</p>
                    <p>{{this.avisFinale}}</p>
                    <p>{{this.MatriculeOwnerVP}}</p>
                     -->


                                  <!-- newwww -->

                <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
                <div class="container">
                <div class="row flex-lg-nowrap">
                  <!--div class="col-12 col-lg-auto mb-3" style="width: 200px;">
                    <div class="card p-3">
                      <div class="e-navlist e-navlist--active-bg">
                        <ul class="nav">
                          <li class="nav-item"><a class="nav-link px-2 active" href="#"><i class="fa fa-fw fa-bar-chart mr-1"></i><span>Overview</span></a></li>
                          <li class="nav-item"><a class="nav-link px-2" href="https://www.bootdey.com/snippets/view/bs4-crud-users" target="__blank"><i class="fa fa-fw fa-th mr-1"></i><span>CRUD</span></a></li>
                          <li class="nav-item"><a class="nav-link px-2" href="https://www.bootdey.com/snippets/view/bs4-edit-profile-page" target="__blank"><i class="fa fa-fw fa-cog mr-1"></i><span>Settings</span></a></li>
                        </ul>
                      </div>
                    </div>
                  </div-->
                
                  <div class="col">
                    <div class="row">
                      <div class="col mb-3">
                        <div class="card">
                          <div class="card-body">
                            <div class="e-profile">
                              
                              <div class="tab-content pt-3">
                                <div class="tab-pane active">
                                  <form class="form" novalidate="">
                                    <div class="row">
                                      <div class="col">
                                        <div class="row">
                                          <div class="col">
                                            <img class="img" src="https://www.femise.org/wp-content/uploads/2019/10/te%CC%81le%CC%81chargement-3.png" style="float: right;height:100px;">
                                            <div class="form-group" style="padding-top: 30px;">
                                                <p></p>

                                              <label><strong>Type de conge :</strong> </label>
                                              <p>{{this.type}}</p>
                
                                              <label><strong>Nom et Prenom :</strong> </label>
                                              <p>{{this.firstname}} {{this.lastname}}</p>
                
                                              <label><strong>Departement :</strong></label>
                                              <p>{{this.department}}</p>
                
                                              <label><strong>Date de conge :</strong></label>
                                              <p>{{this.dateDebut}} a {{this.dateFin}}</p>

                                              <label><strong>Numero de telephone :</strong></label>
                                              <p>{{this.phone}}</p>
                   
                                              
                                              <div class="aParent">
                                              <div   class="AP">
                                                <label><strong>La raison du refus Primaire :</strong></label>
                                                <p *ngIf="!this.validationPrimaire && this.attenteConge"  style="font-family :Arial, Helvetica, sans-serif; color: rgb(121, 71, 15);">( signé par : {{this.fullname}} ) </p>
                                                <p *ngIf="!this.validationPrimaire && this.attenteConge" class="cadre">{{this.avisPrimaire}}</p>
                                              </div>

                                              <div class="AF">
                                                <label><strong>Avis bureau administrative :</strong></label>
                                                <p  class="cadre">{{this.avisFinale}}</p>
                                              </div>

                                              </div>

                                              <label><strong>Date saisie :</strong></label>
                                              <p>{{this.dateSaisie}}</p>

                                 

                                              <hr class="line">
                                              <label style="border-bottom: 1px solid black;"><strong> Administration </strong></label>
                                              <p></p>

                                              <label><strong>Solde :</strong></label>
                                              <p></p>

                                              <label><strong>Autre details:</strong></label>
                                              <p></p>
                   

                                            </div>
                                          </div>
                                    
                                        </div>
                                        
                                        <!--div class="row">
                                          <div class="col mb-3">
                                            <div class="form-group">
                                              <label>About</label>
                                              <textarea class="form-control" rows="5" placeholder="My Bio"></textarea>
                                            </div>
                                          </div>
                                        </div-->
                                      </div>
                                    </div>
                                    <!--div class="row">
                                      <div class="col-12 col-sm-6 mb-3">
                                        <div class="mb-2"><b>Change Password</b></div>
                                        <div class="row">
                                          <div class="col">
                                            <div class="form-group">
                                              <label>Current Password</label>
                                              <input class="form-control" type="password" placeholder="••••••">
                                            </div>
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col">
                                            <div class="form-group">
                                              <label>New Password</label>
                                              <input class="form-control" type="password" placeholder="••••••">
                                            </div>
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="col">
                                            <div class="form-group">
                                              <label>Confirm <span class="d-none d-xl-inline">Password</span></label>
                                              <input class="form-control" type="password" placeholder="••••••"></div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="col-12 col-sm-5 offset-sm-1 mb-3">
                                        <div class="mb-2"><b>Keeping in Touch</b></div>
                                        <div class="row">
                                          <div class="col">
                                            <label>Email Notifications</label>
                                            <div class="custom-controls-stacked px-2">
                                              <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="notifications-blog" checked="">
                                                <label class="custom-control-label" for="notifications-blog">Blog posts</label>
                                              </div>
                                              <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="notifications-news" checked="">
                                                <label class="custom-control-label" for="notifications-news">Newsletter</label>
                                              </div>
                                              <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="notifications-offers" checked="">
                                                <label class="custom-control-label" for="notifications-offers">Personal Offers</label>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="row">
                                      <div class="col d-flex justify-content-end">
                                        <button class="btn btn-primary" type="submit">Save Changes</button>
                                      </div>
                                    </div-->
                                  </form>
                
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                
                
                    </div>
                
                  </div>
                </div>
                </div>
                







                </div>
                <div style="max-height: 190px;" class="modal-footer">
                  <div style="    padding-right: 200px;"  *ngIf="this.validationPrimaire && this.attenteConge" [ngClass]="{'hidden' : this.hidden}" class="alert alert-info" role="alert">
                   <strong>#Succès</strong> la validation primaire a été approuvée
                  </div>
                  <div style=" margin-right: 640px; font-size: 15px;"  *ngIf="!this.validationPrimaire && this.attenteConge" [ngClass]="{'hidden' : this.hidden}" class="alert alert-danger" role="alert">
                    <strong>#Refus</strong> la validation primaire a été refusée
                   </div>
                  
                  <div class="buttons">
                  <button type="button" class="btn btn-success" [ngClass]="{'hidden' : this.hidden}" (click)="ValidationPrimaireChefDep()" (click)="reloadPage()">Accepter</button>
                  <!--div *ngIf="this.isValidationPvalidé" class="alert alert-info" role="alert">
                    <strong>#Succès</strong> la validation primaire a été approuvée
                   </div-->
                    <button type="button" href="#modalavis" class="btn btn-danger"  [ngClass]="{'hidden' : this.hidden}"  (click)="Refuser()" >Refuser</button>
                   </div> 

                    <div class="hiddendiv" style="margin-right: 640px;">
                   
                    <textarea class="votreavis" id="p2" class="form-control" [ngClass]="{'hidden' : this.shown}" placeholder="votre avis: " type="text"  [(ngModel)]="AvisPrimaireSaisie" > </textarea>
                    <button style="margin-top: 20px; " type="button" href="#modalavis" class="btn btn-danger"  [ngClass]="{'hidden' : this.shown}" (click)="AnnuleValidationPrimaireChefDep()" (click)="reloadPage()" >Envoyer votre avis</button>
                    </div>
                    
                    <!--button type="button" class="btn btn-link">Save changes</button-->
                    <button type="button" style="    margin-top: -25px;" class="btn btn-link" data-dismiss="modal" (click)="reloadPage()">Close</button>
                </div>

            </div>
        </div>
     </div>
     
