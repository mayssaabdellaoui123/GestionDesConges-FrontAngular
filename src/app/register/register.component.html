<div  *ngIf="isSignedUp ; else signupForm ">
  <div class="alert alert-success"> 
   Your registration is successful. <strong>Please login!</strong> </div>
   <app-home></app-home>
  </div>
  <div class="center-screen">
  <ng-template #signupForm>
    <div class=" col-md-offset-4"><h1> REGISTRATION FORM </h1>
    <div class="row col-sm-6" style="max-width:350px;">
      <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
        <div class="form-group">
          <label for="name">Firstname</label>
          <input type="text" class="form-control" name="firstname" [(ngModel)]="form.firstname" #firstname="ngModel" required />
          <div *ngIf="f.submitted && firstname.invalid">
            <div *ngIf="firstname.errors.required" class="text-warning">Firstname is required</div>
          </div>
        </div>
        <div class="form-group">
            <label for="name">LastName</label>
            <input type="text" class="form-control" name="lastname" [(ngModel)]="form.lastname" #lastname="ngModel" required />
            <div *ngIf="f.submitted && lastname.invalid">
              <div *ngIf="lastname.errors.required" class="text-warning" >Lastname is required</div>
            </div>
          </div>
        <div class="form-group">
            <label for="dateofbirth" class="form-label">Date of Birth </label>
            <input type="text" class="form-control" name="dateofbirth" [(ngModel)]="form.dateofbirth" #dateofbirth="ngModel" required>
            <div id="dateofbirthHelper" class="form-text" class="text-muted">
                Your Date Of Birth must be following this format : year-month-day (example : 1920-03-01)
            </div>
              <div *ngIf="f.submitted && dateofbirth.invalid">
                <div *ngIf="dateofbirth.errors.required" class="text-warning">Date of Birth is required</div>
              </div>
        </div>
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" class="form-control" name="username" [(ngModel)]="form.username" #username="ngModel" required />
          <div *ngIf="f.submitted && username.invalid">
            <div *ngIf="username.errors.required" class="text-warning" >Username is required</div>
          </div>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="text" class="form-control" name="email" [(ngModel)]="form.email" #email="ngModel" required email />
          <div *ngIf="f.submitted && email.invalid">
            <div *ngIf="email.errors.required" class="text-warning">Email is required</div>
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" name="password" [(ngModel)]="form.password" #password="ngModel"
            required minlength="6" />
          <div *ngIf="f.submitted && password.invalid">
            <div *ngIf="password.errors.required" class="text-warning">Password is required</div>
            <div *ngIf="password.errors.minlength" class="text-warning">Password must be at least 6 characters</div>
          </div>
        </div>
        <div class="form-group">
          <label for="gender" class="form-label">Gender </label>
          <div>
          <select class="form-control" name="gender" [(ngModel)]="form.gender" #gender="ngModel" required>
            <option disabled selected>Select your gender :</option>
            <option value="FEMALE">female</option>
            <option value="MALE">male</option>
          </select></div>
            <div *ngIf="f.submitted && gender.invalid">
                <div *ngIf="gender.errors.required" class="text-warning" >Gender is required</div>
            </div>
            </div>
            <div class="form-group">
            <label for="workfield" class="form-label">Work Field </label>
            <div><select class="form-control" aria-label="Default select example" name="workfield" [(ngModel)]="form.workfield" #workfield="ngModel" required>
              <option disabled selected >Select your Work Field :</option>
              <option value="COSMETICS">Cosmetics</option>
              <option value="EDUCATION">Education</option>
              <option value="FARMING_FISHING_FORESTRY">Farming , Fishing and Foerstry</option>
            </select></div>
               <div *ngIf="f.submitted && workfield.invalid">
                <div *ngIf="workfield.errors.required"class="text-warning">Work Field is required</div>
            </div>
              </div>
              <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" name="address" [(ngModel)]="form.address" #address="ngModel" required />
                <div *ngIf="f.submitted && address.invalid">
                  <div *ngIf="address.errors.required"class="text-warning">Address is required</div>
                </div>
              </div>
              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="text" class="form-control" name="username" [(ngModel)]="form.phone" #phone="ngModel" required minlength="8" placeholder="+216 "/>
                <div *ngIf="f.submitted && phone.invalid">
                  <div *ngIf="phone.errors.required"class="text-warning">Phone is required</div>
                </div>
              </div>
        <div class="form-group"> 
          <button class="btn btn-failure" [disabled]="!f.valid" >Sign Up</button>
          <div *ngIf="f.submitted && isSignUpFailed" class="alert alert-warning">
            Signup failed!<br/>{{errorMessage}}
          </div>
        </div>
      </form>
    </div>
  </div>
  </ng-template>
  </div>